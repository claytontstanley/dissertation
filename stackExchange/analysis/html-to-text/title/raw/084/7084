When should I use type abstraction in embedded systems