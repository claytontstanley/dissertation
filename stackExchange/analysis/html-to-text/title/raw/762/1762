Why is my ternary expression not working?