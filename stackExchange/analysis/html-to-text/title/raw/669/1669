Learning to write a compiler