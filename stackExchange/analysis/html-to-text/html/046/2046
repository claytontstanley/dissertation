<p>As a novice in practicing test-driven development, I often end up on a quandary as to how to unit test persistence to a database.</p>

<p>I know that technically this would technically be an integration test (not a unit test), but I want to find out the best strategies for the ff:</p>

<ol>
<li>Testing queries. </li>
<li>Testing inserts. How do I know that it is the insert that has gone wrong if it fails? I may test it by inserting and then querying -- how do I know that it isn't the querying that went wrong? </li>
<li>Testing updates and deletes -- same as testing inserts</li>
</ol>

<p>What are the best practices doing these?</p>