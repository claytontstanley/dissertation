how
are
you
handling
the
entry
of
numeric
value
in
wpf
application
?
without
a
numericupdown
control
,
i
've
been
using
a
textbox
and
handling
it
previewkeydown
event
with
the
code
below
,
but
it
's
pretty
ugly.
has
anyone
found
a
more
graceful
way
to
get
numeric
data
from
the
user
without
relying
on
a
third-party
control
?
private
void
numericeditpreviewkeydown
(
object
sender
,
keyeventargs
e
)
{
bool
isnumpadnumeric
=
(
e.key
>
=
key.numpad0
&
&
e.key
<
=
key.numpad9
)
||
e.key
==
key.decimal
;
bool
isnumeric
=
(
e.key
>
=
key.d0
&
&
e.key
<
=
key.d9
)
||
e.key
==
key.oemperiod
;
if
(
(
isnumeric
||
isnumpadnumeric
)
&
&
keyboard.modifiers
!
=
modifierkeys.none
)
{
e.handled
=
true
;
return
;
}
bool
iscontrol
=
(
(
keyboard.modifiers
!
=
modifierkeys.none
&
&
keyboard.modifiers
!
=
modifierkeys.shift
)
||
e.key
==
key.back
||
e.key
==
key.delete
||
e.key
==
key.insert
||
e.key
==
key.down
||
e.key
==
key.left
||
e.key
==
key.right
||
e.key
==
key.up
||
e.key
==
key.tab
||
e.key
==
key.pagedown
||
e.key
==
key.pageup
||
e.key
==
key.enter
||
e.key
==
key.return
||
e.key
==
key.escape
||
e.key
==
key.home
||
e.key
==
key.end
)
;
e.handled
=
!
iscontrol
&
&
!
isnumeric
&
&
!
isnumpadnumeric
;
}