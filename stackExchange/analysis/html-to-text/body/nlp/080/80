i
've
written
a
database
generation
script
in
sql
,
and
want
to
execute
it
in
my
adobe
air
application
:
create
table
trole
(
roleid
integer
primary
key
,
rolename
varchar
(
40
)
)
;
create
table
tfile
(
fileid
integer
primary
key
,
filename
varchar
(
50
)
,
filedescription
varchar
(
500
)
,
thumbnailid
integer
,
fileformatid
integer
,
categoryid
integer
,
isfavorite
boolean
,
dateadded
date
,
globalaccesscount
integer
,
lastaccesstime
date
,
downloadcomplete
boolean
,
isnew
boolean
,
isspotlight
boolean
,
duration
varchar
(
30
)
)
;
create
table
tcategory
(
categoryid
integer
primary
key
,
categoryname
varchar
(
50
)
,
parent_categoryid
integer
)
;
...
i
execute
this
in
air
using
the
following
method
:
public
static
function
runsqlfromfile
(
filename
:
string
)
:
void
{
var
file
:
file
=
file.applicationdirectory.resolvepath
(
filename
)
;
var
stream
:
filestream
=
new
filestream
(
)
;
stream.open
(
file
,
filemode.read
)
var
strsql
:
string
=
stream.readutfbytes
(
stream.bytesavailable
)
;
nonquery
(
strsql
)
;
}
public
static
function
nonquery
(
strsql
:
string
)
:
void
{
var
sqlconnection
:
sqlconnection
=
new
sqlconnection
(
)
;
sqlconnection.open
(
file.applicationstoragedirectory.resolvepath
(
dbpath
)
;
var
sqlstatement
:
sqlstatement
=
new
sqlstatement
(
)
;
sqlstatement.text
=
strsql
;
sqlstatement.sqlconnection
=
sqlconnection
;
try
{
sqlstatement.execute
(
)
;
}
catch
(
error
:
sqlerror
)
{
alert.show
(
error.tostring
(
)
)
;
}
}
no
error
are
generated
,
however
only
trole
exists
.
it
seems
that
it
only
look
at
the
first
query
(
up
to
the
semicolon-
if
i
remove
it
,
the
query
fails
)
.
is
there
anyway
to
call
multiple
query
in
one
statement
?