i
have
a
problem
with
maintaining
state
in
an
asp.net
ajax
page.
short
version
:
i
need
some
way
to
update
the
page
viewstate
after
an
async
callback
ha
been
made
,
to
reflect
any
state
change
the
server
made
during
the
async
call.
this
seems
to
be
a
common
problem
,
but
i
will
describe
my
scenario
to
help
explain
:
i
have
a
grid-like
control
which
ha
some
javascript
enhancement
-
namely
,
the
ability
to
drag
and
drop
column
and
rows.
when
a
column
or
row
is
dropped
into
a
new
position
,
an
ajax
method
is
invoked
to
notify
the
control
server-side
and
fire
a
corresponding
server-side
event
(
``
oncolumnmoved
''
or
``
onrowmoved
''
)
.
asp.net
ajax
call
,
by
default
,
send
the
entire
page
a
the
request.
that
way
the
page
go
through
a
complete
lifecycle
,
viewstate
is
persisted
and
the
state
of
the
control
is
restored
before
the
raisecallbackevent
method
is
invoked.
however
,
since
the
ajax
call
doe
not
update
the
page
,
the
viewstate
reflects
the
original
state
of
the
control
,
even
after
the
column
or
row
ha
been
moved.
so
the
second
time
a
client-side
action
occurs
,
the
ajax
request
go
to
the
server
and
the
page
&
control
are
built
back
up
again
to
reflect
the
first
state
of
the
control
,
not
the
state
after
the
first
column
or
row
wa
moved.
this
problem
extends
to
many
implications.
for
example
if
we
have
a
client-side/ajax
action
to
add
a
new
item
to
the
grid
,
and
then
a
row
is
dragged
,
the
grid
is
built
server-side
with
one
le
item
than
on
the
client-side.
and
finally
&
most
seriously
for
my
specific
example
,
the
actual
data
source
object
we
are
acting
upon
is
stored
in
the
page
viewstate.
that
wa
a
design
decision
to
allow
keeping
a
stateful
copy
of
the
manipulated
data
which
can
either
be
committed
to
db
after
many
manipulation
or
discarded
if
the
user
back
out.
that
is
very
difficult
to
change.
so
,
again
,
i
need
a
way
for
the
page
viewstate
to
be
updated
on
callback
after
the
ajax
method
is
fired
.