given
an
absolute
or
relative
path
(
in
a
unix-like
system
)
,
i
would
like
to
determine
the
full
path
of
the
target
after
resolving
any
intermediate
symlinks
.
bonus
point
for
also
resolving
~username
notation
at
the
same
time
.
if
the
target
is
a
directory
,
it
might
be
possible
to
chdir
(
)
into
the
directory
and
then
call
getcwd
(
)
,
but
i
really
want
to
do
this
from
a
shell
script
rather
than
writing
a
c
helper
.
unfortunately
,
shell
have
a
tendency
to
try
to
hide
the
existence
of
symlinks
from
the
user
(
this
is
bash
on
os
x
)
:
$
l
-ld
foo
bar
drwxr-xr-x
2
greg
greg
68
aug
11
22:36
bar
lrwxr-xr-x
1
greg
greg
3
aug
11
22:36
foo
-
>
bar
$
cd
foo
$
pwd
/users/greg/tmp/foo
$
what
i
want
is
a
function
resolve
(
)
such
that
when
executed
from
the
tmp
directory
in
the
above
example
,
resolve
(
``
foo
''
)
==
``
/users/greg/tmp/bar
''
.